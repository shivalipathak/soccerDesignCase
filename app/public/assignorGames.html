<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>ISRA</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.js">
    </script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="css/style.css" rel="stylesheet" type="text/css" />
    <script src="https://unpkg.com/vue@next"></script>
  </head>

<body>
	<div class="container-fluid">
		<header>
			<nav class="row navbar navbar-default">
				<div class="navbar-header">
					<button class="navbar-toggle" data-toggle="collapse" data-target="#mymenu">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              </button>
          </div>
          <div class="collapse navbar-collapse" id="mymenu">
           <ul class= "nav navbar-nav">
            <li><a id="homelink" href="index.html">Home</a></li>
            <li><a id="homelink" href="user.html">View referees</a></li> 
            <li><a id="homelink" href="viewGames.html">View games</a></li> 
           </ul>
           <ul class="nav navbar-nav navbar-right">
            <li><a href="assignorHome.html">Assignor Access</a></li>
            <li><a href="refhome.html">Referee Access</a></li> 
            <li>
              <a id="loginApp" href="signin.html"><button class="btn btn-info" id="sign-in-button" v-on:click="signIn">Sign in</button></a>
              </li>
            </ul>
          </div>
        </nav>
    </header>
    <main class="row">
      <div class="page">
        <div id = "gameApp">
            <div class="row">
            <table id="refereeTable" class="table table-hover">
            <thead>
                <tr>
                    <th scope="col" class="table-header">Game ID</th>
                    <th scope="col" class="table-header">Field</th>
                    <th scope="col" class="table-header">Date</th>
                    <th scope="col" class="table-header">Time</th>
                    <th scope="col" class="table-header">Actions</th>
                </tr>
            </thead>

            <tbody v-for="g in games">
                <tr>
                    <td>{{ g.gameId }}</td>
                    <td>{{ g.field }}</td>
                    <td>{{ g.gDate }}</td>
                    <td>{{ g.gTime }}</td>
                    <td>
                        <button v-on:click="selectedGameToEdit(g)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                        <br>
                        <button v-on:click="postDeleteGame(g)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
                      </td>
                </tr>
            </tbody>
          </table>
          </div>
          <br><br><br>
        
          <h3>{{ selectedGame === null ? "Add" : "Edit" }} Game</h3>
          <form v-on:submit.prevent="postGame">
            
            <div class="form-group">
              <label for="field" class="form-label">Field</label>
              <input type="text" class="form-control" id="refereeId" v-model="gameForm.field" >
            </div>
            <div class="form-group">
              <label for="gDate" class="form-label">Date</label>
              <input type="date" class="form-control" id="refereeId" v-model="gameForm.gDate" >
            </div>
            <div class="form-group">
              <label for="gDate" class="form-label">Time</label>
              <input type="time" class="form-control" id="refereeId" v-model="gameForm.gTime" >
            </div>
            <div class="form-group">
              <label for="gameStatus" class="form-label">Game Status:</label>
              <select v-model ="gameForm.gameStatus" class="form-control" id="gameStatus" required="required">
                <option> Unassigned</option>
                <option> Assigned</option>
                <option> Tentative</option>
                <option> Accepted</option>
              </select> 
            </div>
              <br>
                
              <br>
              <button type="submit" class="btn btn-light" id = "submit-button">{{ selectedGame === null ? "Add " : "Edit " }} Game</button>
              <button type="button" class="btn btn-outline-secondary" v-if="selectedGame" v-on:click="resetGameForm">Cancel</button>
          </form>
       
        </div>
        </div>
    </main>
    
    </div>
  </body>
    <script src="js/game.js"></script>
    
  </body>
</html>