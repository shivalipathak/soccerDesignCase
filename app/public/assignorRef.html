<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>ISRA</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.js">
    </script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="css/style.css" rel="stylesheet" type="text/css" />
    <script src="https://unpkg.com/vue@next"></script>
  </head>

<body>
	<div class="container-fluid">
		<header>
			<nav class="row navbar navbar-default">
				<div class="navbar-header">
					<button class="navbar-toggle" data-toggle="collapse" data-target="#mymenu">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              </button>
          </div>
          <div class="collapse navbar-collapse" id="mymenu">
           <ul class= "nav navbar-nav">
            <li><a id="homelink"href="index.html">Home</a></li>
            <li><a id="homelink"href="user.html">View referees</a></li> 
            <li><a id="homelink"href="viewGames.html">View games</a></li> 
           </ul>
           <ul class="nav navbar-nav navbar-right">
            <li><a href="assignorHome.html">Assignor Access</a></li>
            <li><a href="refhome.html">Referee Access</a></li> 
            <li>
              <a id="loginApp" href="signin.html"><button class="btn btn-info" id="sign-in-button" v-on:click="signIn">Sign in</button></a>
              </li>
            </ul>
          </div>
        </nav>
    </header>
    <main class="row">
      <div class="page">
        <div id = "refereeApp">
            <div class="row">
            <table id="refereeTable" class="table table-hover">
            <thead>
                <tr>
                    <th scope="col" class="table-header">Refereee Name</th>
                    <th scope="col" class="table-header">Referee Age</th>
                    <th scope="col" class="table-header">Referee Grade</th>
                    <th scope="col" class="table-header">Referee Skill</th>
                    <th scope="col" class="table-header">Actions</th>
                </tr>
            </thead>

            <tbody v-for="r in referees">
                <tr>
                    <th scope="row">{{ r.rName }}</th>
                    <td>{{ r.rAge }}</td>
                    <td>{{ r.rGrade }}</td>
                    <td>{{ r.rSkill }}</td>
                    <td>
                        <button class="btn" v-on:click="selectedRefToEdit(r)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                        <br>
                        <button class="btn" v-on:click="postDeleteRef(r)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
                      </td>
                </tr>
            </tbody>
          </table>
          </div>

        
          <h3>{{ selectedRef === null ? "Add" : "Edit" }} Ref</h3>
          <form v-on:submit.prevent="postRef">
            
            <div class="form-group">
              <label for="rName" class="form-label">Referee Name</label>
              <input type="text" class="form-control" id="rName" v-model="refForm.rName" placeholder="Enter name of the referee">
            </div>
            <div class="form-group">
              <label for="rAge" class="form-label">Referee Age</label>
              <input type="text" class="form-control" id="rAge" v-model="refForm.rAge" placeholder="Enter age of the referee">
            </div>
            <div class="form-group">
                <label for="rSkill" class="form-label">Referee Skill Level</label>
                <input type="text" class="form-control" id="rSkill" v-model="refForm.rSkill" placeholder="Enter skill level (1-100)">
              </div>
              <div class="form-group">
                <label for="rGrade" class="form-label">Referee Grade</label>
                <input type="text" class="form-control" id="rGrade" v-model="refForm.rGrade" placeholder="Enter referee grade (1-5)">
              </div>
              <br>
                
              <br>
              <button type="submit" class="btn btn-primary" id = "submit-button">{{ selectedRef === null ? "Add " : "Edit " }} Referee</button>
              <button type="button" class="btn btn-outline-secondary" id="submit-button" v-if="selectedRef" v-on:click="resetRefForm">Cancel</button>
          </form>
       
        </div>
        </div>
    </main>
    
    </div>
  </body>
    <script src="js/referee.js"></script>
    
  </body>
</html>